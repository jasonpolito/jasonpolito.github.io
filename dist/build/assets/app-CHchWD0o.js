var O=function(i){if(i){var c=function(t){return[].slice.call(t)},s=0,a=1,m=2,d=3,u=[],p=null,f="requestAnimationFrame"in i?function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{sync:!1};i.cancelAnimationFrame(p);var e=function(){return z(u.filter(function(n){return n.dirty&&n.active}))};if(t.sync)return e();p=i.requestAnimationFrame(e)}:function(){},y=function(t){return function(e){u.forEach(function(n){return n.dirty=t}),f(e)}},z=function(t){t.filter(function(n){return!n.styleComputed}).forEach(function(n){n.styleComputed=W(n)}),t.filter(A).forEach(v);var e=t.filter(E);e.forEach(F),e.forEach(function(n){v(n),g(n)}),e.forEach(M)},g=function(t){return t.dirty=s},F=function(t){t.availableWidth=t.element.parentNode.clientWidth,t.currentWidth=t.element.scrollWidth,t.previousFontSize=t.currentFontSize,t.currentFontSize=Math.min(Math.max(t.minSize,t.availableWidth/t.currentWidth*t.previousFontSize),t.maxSize),t.whiteSpace=t.multiLine&&t.currentFontSize===t.minSize?"normal":"nowrap"},E=function(t){return t.dirty!==m||t.dirty===m&&t.element.parentNode.clientWidth!==t.availableWidth},W=function(t){var e=i.getComputedStyle(t.element,null);return t.currentFontSize=parseFloat(e.getPropertyValue("font-size")),t.display=e.getPropertyValue("display"),t.whiteSpace=e.getPropertyValue("white-space"),!0},A=function(t){var e=!1;return!t.preStyleTestCompleted&&(/inline-/.test(t.display)||(e=!0,t.display="inline-block"),t.whiteSpace!=="nowrap"&&(e=!0,t.whiteSpace="nowrap"),t.preStyleTestCompleted=!0,e)},v=function(t){t.element.style.whiteSpace=t.whiteSpace,t.element.style.display=t.display,t.element.style.fontSize=t.currentFontSize+"px"},M=function(t){t.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:t.previousFontSize,newValue:t.currentFontSize,scaleFactor:t.currentFontSize/t.previousFontSize}}))},S=function(t,e){return function(n){t.dirty=e,t.active&&f(n)}},T=function(t){return function(){u=u.filter(function(e){return e.element!==t.element}),t.observeMutations&&t.observer.disconnect(),t.element.style.whiteSpace=t.originalStyle.whiteSpace,t.element.style.display=t.originalStyle.display,t.element.style.fontSize=t.originalStyle.fontSize}},C=function(t){return function(){t.active||(t.active=!0,f())}},L=function(t){return function(){return t.active=!1}},V=function(t){t.observeMutations&&(t.observer=new MutationObserver(S(t,a)),t.observer.observe(t.element,t.observeMutations))},q={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in i&&{subtree:!0,childList:!0,characterData:!0}},h=null,x=function(){i.clearTimeout(h),h=i.setTimeout(y(m),o.observeWindowDelay)},P=["resize","orientationchange"];return Object.defineProperty(o,"observeWindow",{set:function(t){var e="".concat(t?"add":"remove","EventListener");P.forEach(function(n){i[e](n,x)})}}),o.observeWindow=!0,o.observeWindowDelay=100,o.fitAll=y(d),o}function b(t,e){var n=Object.assign({},q,e),I=t.map(function(w){var l=Object.assign({},n,{element:w,active:!0});return function(r){r.originalStyle={whiteSpace:r.element.style.whiteSpace,display:r.element.style.display,fontSize:r.element.style.fontSize},V(r),r.newbie=!0,r.dirty=!0,u.push(r)}(l),{element:w,fit:S(l,d),unfreeze:C(l),freeze:L(l),unsubscribe:T(l)}});return f(),I}function o(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof t=="string"?b(c(document.querySelectorAll(t)),e):b([t],e)[0]}}(typeof window>"u"?null:window);const D=200,N=document.querySelectorAll("[data-displacement-map]");N.forEach(i=>{const c=i.querySelector("feTurbulence");if(c){const s=[.02,.01,.021,.017,.015,.02,.022,.018,.016];let a=0;setInterval(()=>{c.setAttribute("baseFrequency",s[a]),a=(a+1)%s.length},D)}});const j=O(".fitty",{minSize:0,multiLine:!1});setInterval(()=>{j.forEach(i=>{i.fit()}),console.log("fitting instances...")},2e3);
