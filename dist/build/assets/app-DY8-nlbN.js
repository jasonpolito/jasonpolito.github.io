function X(){return/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Y(){if(X())return;const h=document.getElementById("flowfield"),i=document.getElementById("fullystacked"),l=h.getContext("2d");let f=i.clientWidth,d=i.clientHeight;h.width=f,h.height=d;const c=20;let b,C,a,q=0;const L=2e3,B=[];let u={x:null,y:null};function s(){f=i.clientWidth,d=i.clientHeight,h.width=f,h.height=d,b=Math.floor(f/c),C=Math.floor(d/c),a=new Array(b*C).fill(0)}window.addEventListener("resize",s),s(),window.addEventListener("mousemove",r=>{const t=h.getBoundingClientRect();u.x=r.clientX-t.left,u.y=r.clientY-t.top});class R{constructor(){this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.p=Array.from({length:256},()=>Math.floor(Math.random()*256)),this.perm=[...this.p,...this.p]}dot(t,n,o,m){return t[0]*n+t[1]*o+t[2]*m}noise(t,n,o){const m=.3333333333333333,e=1/6;let S=(t+n+o)*m,E=Math.floor(t+S),$=Math.floor(n+S),A=Math.floor(o+S),z=(E+$+A)*e,k=t-(E-z),P=n-($-z),y=o-(A-z),p,x,g,w,M,v;k>=P?P>=y?(p=1,x=0,g=0,w=1,M=1,v=0):k>=y?(p=1,x=0,g=0,w=1,M=0,v=1):(p=0,x=0,g=1,w=1,M=0,v=1):P<y?(p=0,x=0,g=1,w=0,M=1,v=1):k<y?(p=0,x=1,g=0,w=0,M=1,v=1):(p=0,x=1,g=0,w=1,M=1,v=0);const T=(D,H,N,tt)=>{let I=.6-D*D-H*H-N*N;return I<0?0:(I*=I,I*I*this.dot(this.grad3[tt],D,H,N))};let j=E&255,F=$&255,O=A&255,U=this.perm[j+this.perm[F+this.perm[O]]]%12,V=this.perm[j+p+this.perm[F+x+this.perm[O+g]]]%12,Z=this.perm[j+w+this.perm[F+M+this.perm[O+v]]]%12,_=this.perm[j+1+this.perm[F+1+this.perm[O+1]]]%12;return 32*(T(k,P,y,U)+T(k-p+e,P-x+e,y-g+e,V)+T(k-w+2*e,P-M+2*e,y-v+2*e,Z)+T(k-1+3*e,P-1+3*e,y-1+3*e,_))}}const W=new R;function K(){let r=0;for(let t=0;t<C;t++)for(let n=0;n<b;n++){const o=W.noise(n*.1,t*.1,q)*Math.PI*2;a[r++]=o}}class Q{constructor(){this.reset()}reset(){this.x=Math.random()*f,this.y=Math.random()*d,this.vx=0,this.vy=0,this.speed=1,this.radius=1,this.history=[]}update(){const t=Math.floor(this.x/c),o=Math.floor(this.y/c)*b+t;if(a[o]!==void 0){const m=a[o];this.vx+=Math.cos(m)*.1,this.vy+=Math.sin(m)*.1}this.vx*=.9,this.vy*=.9,this.x+=this.vx,this.y+=this.vy,this.history.push([this.x,this.y]),this.history.length>5&&this.history.shift(),(this.x<0||this.x>f||this.y<0||this.y>d)&&this.reset()}draw(t){if(this.history.length<2)return;t.beginPath(),t.moveTo(this.history[0][0],this.history[0][1]);for(let e=1;e<this.history.length;e++)t.lineTo(this.history[e][0],this.history[e][1]);let n=1,o=[188,58,160],m=.2;if(u.x!==null&&u.y!==null){let e=this.x-u.x,S=this.y-u.y,E=Math.sqrt(e*e+S*S);if(E<200){let $=1-E/200;n=$*5+1,o=o.map(A=>Math.min(255,A+$*(255-A)))}}t.strokeStyle=`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${m})`,t.lineWidth=n,t.stroke()}}for(let r=0;r<L;r++)B.push(new Q);function G(){l.globalCompositeOperation="destination-out",l.fillStyle="rgba(0, 0, 0, 0.1)",l.fillRect(0,0,f,d),l.globalCompositeOperation="lighter",q+=.003,K(),B.forEach(r=>{r.update(),r.draw(l)}),requestAnimationFrame(G)}G(),setTimeout(()=>{h.classList.remove("opacity-0")},100)}X()||Y();window.addEventListener("resize",Y);const J=document.querySelectorAll("[data-word-rotator]");J.length&&J.forEach(h=>{const i={text1:h.querySelector(".text1"),text2:h.querySelector(".text2")},l=JSON.parse(h.dataset.wordRotator),f=1,d=.5;let c=l.length-1,b=new Date,C=0,a=d;i.text1.textContent=l[c%l.length],i.text2.textContent=l[(c+1)%l.length];function q(){C-=a,a=0;let s=C/f;s>1&&(a=d,s=1),L(s)}function L(s){i.text2.style.filter=`blur(${Math.min(8/s-8,100)}px)`,i.text2.style.opacity=`${Math.pow(s,.4)*100}%`,s=1-s,i.text1.style.filter=`blur(${Math.min(8/s-8,100)}px)`,i.text1.style.opacity=`${Math.pow(s,.4)*100}%`,i.text1.textContent=l[c%l.length],i.text2.textContent=l[(c+1)%l.length]}function B(){C=0,i.text2.style.filter="",i.text2.style.opacity="100%",i.text1.style.filter="",i.text1.style.opacity="0%"}function u(){requestAnimationFrame(u);let s=new Date,R=a>0,W=(s-b)/1e3;b=s,a-=W,a<=0?(R&&c++,q()):B()}u()});
